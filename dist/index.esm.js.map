{"version":3,"file":"index.esm.js","sources":["../node_modules/tslib/tslib.es6.js","../src/send-icon.svg","../src/FloatingChatWidget.tsx"],"sourcesContent":["/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\r\n    function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\r\n    var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\r\n    var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\r\n    var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\r\n    var _, done = false;\r\n    for (var i = decorators.length - 1; i >= 0; i--) {\r\n        var context = {};\r\n        for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\r\n        for (var p in contextIn.access) context.access[p] = contextIn.access[p];\r\n        context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\r\n        var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\r\n        if (kind === \"accessor\") {\r\n            if (result === void 0) continue;\r\n            if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\r\n            if (_ = accept(result.get)) descriptor.get = _;\r\n            if (_ = accept(result.set)) descriptor.set = _;\r\n            if (_ = accept(result.init)) initializers.unshift(_);\r\n        }\r\n        else if (_ = accept(result)) {\r\n            if (kind === \"field\") initializers.unshift(_);\r\n            else descriptor[key] = _;\r\n        }\r\n    }\r\n    if (target) Object.defineProperty(target, contextIn.name, descriptor);\r\n    done = true;\r\n};\r\n\r\nexport function __runInitializers(thisArg, initializers, value) {\r\n    var useValue = arguments.length > 2;\r\n    for (var i = 0; i < initializers.length; i++) {\r\n        value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\r\n    }\r\n    return useValue ? value : void 0;\r\n};\r\n\r\nexport function __propKey(x) {\r\n    return typeof x === \"symbol\" ? x : \"\".concat(x);\r\n};\r\n\r\nexport function __setFunctionName(f, name, prefix) {\r\n    if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\r\n    return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\r\n};\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\r\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = Object.create((typeof AsyncIterator === \"function\" ? AsyncIterator : Object).prototype), verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function awaitReturn(f) { return function (v) { return Promise.resolve(v).then(f, reject); }; }\r\n    function verb(n, f) { if (g[n]) { i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; if (f) i[n] = f(i[n]); } }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nvar ownKeys = function(o) {\r\n    ownKeys = Object.getOwnPropertyNames || function (o) {\r\n        var ar = [];\r\n        for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n        return ar;\r\n    };\r\n    return ownKeys(o);\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n\r\nexport function __addDisposableResource(env, value, async) {\r\n    if (value !== null && value !== void 0) {\r\n        if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\r\n        var dispose, inner;\r\n        if (async) {\r\n            if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\r\n            dispose = value[Symbol.asyncDispose];\r\n        }\r\n        if (dispose === void 0) {\r\n            if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\r\n            dispose = value[Symbol.dispose];\r\n            if (async) inner = dispose;\r\n        }\r\n        if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\r\n        if (inner) dispose = function() { try { inner.call(this); } catch (e) { return Promise.reject(e); } };\r\n        env.stack.push({ value: value, dispose: dispose, async: async });\r\n    }\r\n    else if (async) {\r\n        env.stack.push({ async: true });\r\n    }\r\n    return value;\r\n\r\n}\r\n\r\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\r\n\r\nexport function __disposeResources(env) {\r\n    function fail(e) {\r\n        env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\r\n        env.hasError = true;\r\n    }\r\n    var r, s = 0;\r\n    function next() {\r\n        while (r = env.stack.pop()) {\r\n            try {\r\n                if (!r.async && s === 1) return s = 0, env.stack.push(r), Promise.resolve().then(next);\r\n                if (r.dispose) {\r\n                    var result = r.dispose.call(r.value);\r\n                    if (r.async) return s |= 2, Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\r\n                }\r\n                else s |= 1;\r\n            }\r\n            catch (e) {\r\n                fail(e);\r\n            }\r\n        }\r\n        if (s === 1) return env.hasError ? Promise.reject(env.error) : Promise.resolve();\r\n        if (env.hasError) throw env.error;\r\n    }\r\n    return next();\r\n}\r\n\r\nexport function __rewriteRelativeImportExtension(path, preserveJsx) {\r\n    if (typeof path === \"string\" && /^\\.\\.?\\//.test(path)) {\r\n        return path.replace(/\\.(tsx)$|((?:\\.d)?)((?:\\.[^./]+?)?)\\.([cm]?)ts$/i, function (m, tsx, d, ext, cm) {\r\n            return tsx ? preserveJsx ? \".jsx\" : \".js\" : d && (!ext || !cm) ? m : (d + ext + \".\" + cm.toLowerCase() + \"js\");\r\n        });\r\n    }\r\n    return path;\r\n}\r\n\r\nexport default {\r\n    __extends: __extends,\r\n    __assign: __assign,\r\n    __rest: __rest,\r\n    __decorate: __decorate,\r\n    __param: __param,\r\n    __esDecorate: __esDecorate,\r\n    __runInitializers: __runInitializers,\r\n    __propKey: __propKey,\r\n    __setFunctionName: __setFunctionName,\r\n    __metadata: __metadata,\r\n    __awaiter: __awaiter,\r\n    __generator: __generator,\r\n    __createBinding: __createBinding,\r\n    __exportStar: __exportStar,\r\n    __values: __values,\r\n    __read: __read,\r\n    __spread: __spread,\r\n    __spreadArrays: __spreadArrays,\r\n    __spreadArray: __spreadArray,\r\n    __await: __await,\r\n    __asyncGenerator: __asyncGenerator,\r\n    __asyncDelegator: __asyncDelegator,\r\n    __asyncValues: __asyncValues,\r\n    __makeTemplateObject: __makeTemplateObject,\r\n    __importStar: __importStar,\r\n    __importDefault: __importDefault,\r\n    __classPrivateFieldGet: __classPrivateFieldGet,\r\n    __classPrivateFieldSet: __classPrivateFieldSet,\r\n    __classPrivateFieldIn: __classPrivateFieldIn,\r\n    __addDisposableResource: __addDisposableResource,\r\n    __disposeResources: __disposeResources,\r\n    __rewriteRelativeImportExtension: __rewriteRelativeImportExtension,\r\n};\r\n","<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M13.2914 1.56782C13.6201 1.43247 13.9875 1.52915 14.2388 1.74183C14.4902 1.99318 14.5675 2.37988 14.4322 2.70858L9.48243 15.0829C9.44376 15.199 9.38576 15.2956 9.30842 15.373C9.1344 15.547 8.88305 15.6437 8.6317 15.6243C8.28367 15.6243 7.95497 15.373 7.83896 15.0249L6.19549 9.78517L0.975055 8.16103C0.627026 8.04502 0.375672 7.71633 0.356337 7.34897C0.337002 7.09761 0.453012 6.86559 0.627026 6.69158C0.704366 6.61424 0.801041 6.55623 0.917051 6.51756L13.2914 1.56782ZM2.54119 7.29096L6.52419 8.5284L11.2806 3.772L2.54119 7.29096ZM7.45226 9.45648L8.70904 13.4588L12.2087 4.70008L7.45226 9.45648Z\" fill=\"white\"/>\n</svg>\n","import React, { useState, useRef, useEffect, FormEvent } from \"react\";\n// @ts-ignore\nimport SendIcon from \"./send-icon.svg\";\n// Note: CSS is built separately and should be imported by the consuming application\n\nexport interface Message {\n  sender: \"user\" | \"bot\";\n  text: string;\n  id: string;\n  isStreaming?: boolean;\n}\n\nexport interface FloatingChatWidgetProps {\n  apiUrl: string;\n  position?: \"bottom-left\" | \"bottom-right\";\n  cleanTheme?: boolean;\n  themeColor?: string;\n  bubbleIcon?: string | React.ReactNode; // Can be emoji string, image URL, or React element\n  title?: string;\n  titleIcon?: string; // Image URL or emoji to display alongside the title\n  placeholder?: string;\n  welcomeMessage?: string;\n  zIndex?: number;\n  width?: number;\n  height?: number;\n  fontFamily?: string;\n  debug?: boolean;\n  sessionId?: string;\n  onUserRequest?: (text: string) => void;\n  streaming?: boolean; // Enable SSE streaming responses\n}\n\nconst DEFAULT_CONFIG: Required<\n  Omit<FloatingChatWidgetProps, \"apiUrl\" | \"onUserRequest\" | \"titleIcon\">\n> & {\n  apiUrl: string;\n  titleIcon?: string;\n} = {\n  apiUrl: \"{{your_n8n_api}}\",\n  position: \"bottom-right\",\n  cleanTheme: false,\n  themeColor: \"#FF6B35\",\n  bubbleIcon: \"üò∫\",\n  title: \"\",\n  titleIcon: undefined,\n  placeholder: \"Type your message...\",\n  welcomeMessage: \"Hi! How can I help you today?\",\n  zIndex: 9999,\n  width: 350,\n  height: 500,\n  fontFamily: \"inherit\",\n  debug: false,\n  sessionId: \"\",\n  streaming: false,\n};\n\n/**\n * FloatingChatWidget - A lightweight, customizable React chat widget component.\n *\n * Features:\n * - Responsive design\n * - Smooth animations\n * - Easily customizable\n * - Connects to n8n AI agent API\n * - Markdown support\n * - SSE streaming support for real-time responses\n * - Streaming text cursor animation\n */\nexport const FloatingChatWidget: React.FC<FloatingChatWidgetProps> = (\n  props\n) => {\n  const config = { ...DEFAULT_CONFIG, ...props };\n\n  // Generate session ID if not provided\n  const [sessionId] = useState(\n    () =>\n      config.sessionId ||\n      `fcw-${Math.random().toString(36).slice(2)}${Date.now()}`\n  );\n\n  const [isOpen, setIsOpen] = useState(false);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const log = (...args: any[]) => {\n    if (config.debug) {\n      console.log(\"[FloatingChatWidget]\", ...args);\n    }\n  };\n\n  // Add welcome message on mount\n  useEffect(() => {\n    if (config.welcomeMessage) {\n      addMessage(\"bot\", config.welcomeMessage);\n    }\n  }, []);\n\n  // Auto-scroll to bottom when messages change\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Focus input when widget opens\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      setTimeout(() => inputRef.current?.focus(), 350);\n    }\n  }, [isOpen]);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  };\n\n  const addMessage = (\n    sender: \"user\" | \"bot\",\n    text: string,\n    id?: string,\n    isStreaming?: boolean\n  ) => {\n    const newMessage: Message = {\n      sender,\n      text,\n      id: id || `msg-${Date.now()}-${Math.random()}`,\n      isStreaming,\n    };\n    setMessages((prev) => [...prev, newMessage]);\n    log(\"Message added:\", sender, text);\n    return newMessage.id;\n  };\n\n  const updateMessage = (id: string, text: string, isStreaming?: boolean) => {\n    setMessages((prev) =>\n      prev.map((msg) => (msg.id === id ? { ...msg, text, isStreaming } : msg))\n    );\n  };\n\n  const formatMarkdown = (text: string): string => {\n    let html = text\n      .replace(/\\n/g, \"<br>\")\n      .replace(/\\*\\*(.+?)\\*\\*/g, \"<b>$1</b>\")\n      .replace(/\\*(.+?)\\*/g, \"<i>$1</i>\")\n      .replace(/\\- (.+)/g, \"<li>$1</li>\");\n\n    // Wrap list items in ul\n    if (/<li>/.test(html)) {\n      html = \"<ul>\" + html + \"</ul>\";\n    }\n    return html;\n  };\n\n  const sendToApiStreaming = async (text: string) => {\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(config.apiUrl, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ message: text, chatInput: text, sessionId }),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const reader = response.body?.getReader();\n      const decoder = new TextDecoder();\n\n      if (!reader) {\n        throw new Error(\"No response body reader available\");\n      }\n\n      let messageId: string | null = null;\n      let accumulatedText = \"\";\n      let buffer = \"\";\n      let hasStartedStreaming = false;\n\n      while (true) {\n        const { done, value } = await reader.read();\n\n        if (done) {\n          log(\"Stream complete\");\n          if (messageId) {\n            // Mark streaming as complete\n            updateMessage(messageId, accumulatedText, false);\n          }\n          setIsLoading(false);\n          break;\n        }\n\n        // Decode the chunk and add to buffer\n        buffer += decoder.decode(value, { stream: true });\n\n        // Split by newlines to get individual JSON objects\n        const lines = buffer.split(\"\\n\");\n\n        // Keep the last incomplete line in the buffer\n        buffer = lines.pop() || \"\";\n\n        for (const line of lines) {\n          const trimmedLine = line.trim();\n          if (!trimmedLine) continue;\n\n          try {\n            const parsed = JSON.parse(trimmedLine);\n\n            // Handle n8n streaming format\n            if (parsed.type === \"item\" && parsed.content) {\n              // First content chunk - create message and hide loading\n              if (!hasStartedStreaming) {\n                setIsLoading(false);\n                messageId = addMessage(\"bot\", \"\", undefined, true);\n                hasStartedStreaming = true;\n              }\n\n              accumulatedText += parsed.content;\n              if (messageId) {\n                updateMessage(messageId, accumulatedText, true);\n              }\n              log(\"Streamed chunk:\", parsed.content);\n            } else if (parsed.type === \"begin\") {\n              log(\"Stream begin\");\n            } else if (parsed.type === \"end\") {\n              log(\"Stream end\");\n              if (messageId) {\n                // Mark streaming as complete\n                updateMessage(messageId, accumulatedText, false);\n              }\n            }\n          } catch (e) {\n            log(\"Failed to parse streaming JSON:\", trimmedLine, e);\n          }\n        }\n      }\n\n      if (!accumulatedText) {\n        setIsLoading(false);\n        addMessage(\"bot\", \"Sorry, I did not understand that.\");\n      }\n    } catch (err) {\n      setIsLoading(false);\n      log(\"API streaming error:\", err);\n      addMessage(\"bot\", \"Error connecting to AI agent.\");\n    }\n  };\n\n  const sendToApi = async (text: string) => {\n    setIsLoading(true);\n\n    try {\n      const response = await fetch(config.apiUrl, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ message: text, chatInput: text, sessionId }),\n      });\n\n      const data = await response.json();\n      setIsLoading(false);\n\n      let reply = \"\";\n      if (data?.reply) {\n        reply = data.reply;\n      } else if (data?.output) {\n        reply = data.output;\n      }\n\n      if (reply) {\n        addMessage(\"bot\", reply);\n      } else {\n        log(\"API raw response:\", data);\n        addMessage(\"bot\", \"Sorry, I did not understand that.\");\n      }\n    } catch (err) {\n      setIsLoading(false);\n      log(\"API error:\", err);\n      addMessage(\"bot\", \"Error connecting to AI agent.\");\n    }\n  };\n\n  const handleSubmit = (e: FormEvent) => {\n    e.preventDefault();\n    const text = inputValue.trim();\n    if (!text) return;\n\n    addMessage(\"user\", text);\n    setInputValue(\"\");\n\n    if (props.onUserRequest) {\n      props.onUserRequest(text);\n    } else {\n      // Use streaming or regular API based on config\n      if (config.streaming) {\n        sendToApiStreaming(text);\n      } else {\n        sendToApi(text);\n      }\n    }\n  };\n\n  const toggleWidget = () => {\n    setIsOpen((prev) => !prev);\n    log(\"Widget toggled:\", !isOpen);\n  };\n\n  const positionClass =\n    config.position === \"bottom-left\" ? \"left-6\" : \"right-6\";\n\n  // Helper to check if string is an image URL\n  const isImageUrl = (str: string): boolean => {\n    return (\n      /\\.(jpg|jpeg|png|gif|svg|webp)$/i.test(str) ||\n      str.startsWith(\"data:image/\") ||\n      str.startsWith(\"http\")\n    );\n  };\n\n  // Render bubble icon based on type\n  const renderBubbleIcon = () => {\n    if (typeof config.bubbleIcon === \"string\") {\n      // Check if it's an image URL\n      if (isImageUrl(config.bubbleIcon)) {\n        return (\n          <img\n            src={config.bubbleIcon}\n            alt=\"Chat\"\n            className=\"fcw-bubble-icon-img\"\n          />\n        );\n      }\n      // Otherwise treat as emoji or text\n      return (\n        <span className=\"flex items-center justify-center text-lg w-6 h-6 leading-none\">\n          {config.bubbleIcon}\n        </span>\n      );\n    }\n    // React node (custom component)\n    return config.bubbleIcon;\n  };\n\n  // Render title icon based on type\n  const renderTitleIcon = () => {\n    if (!config.titleIcon) return null;\n\n    // Check if it's an image URL\n    if (isImageUrl(config.titleIcon)) {\n      return (\n        <img\n          src={config.titleIcon}\n          alt={config.title}\n          className=\"fcw-title-icon-img\"\n        />\n      );\n    }\n    // Otherwise treat as emoji or text\n    return <span className=\"fcw-title-icon-emoji\">{config.titleIcon}</span>;\n  };\n\n  return (\n    <>\n      {/* Bubble button */}\n      <button\n        onClick={toggleWidget}\n        className={`fcw-chat-bubble ${positionClass}`}\n        style={{\n          zIndex: config.zIndex,\n          backgroundColor: config.cleanTheme\n            ? \"transparent\"\n            : config.themeColor,\n        }}\n        aria-label=\"Toggle chat\"\n      >\n        {renderBubbleIcon()}\n      </button>\n\n      {/* Chat widget */}\n      <div\n        className={`fcw-chat-widget ${positionClass} ${\n          isOpen ? \"fcw-open\" : \"fcw-closed\"\n        }`}\n        style={{\n          zIndex: config.zIndex,\n          width: config.width,\n          height: config.height,\n          fontFamily: config.fontFamily,\n        }}\n      >\n        {/* Header */}\n        <div\n          className=\"fcw-chat-header\"\n          style={{\n            backgroundColor: config.cleanTheme ? \"inherit\" : config.themeColor,\n          }}\n        >\n          <div className=\"fcw-header-content\">\n            {renderTitleIcon()}\n            {/* <span className=\"fcw-header-title\">{config.title}</span> */}\n          </div>\n          <button\n            onClick={toggleWidget}\n            className=\"fcw-close-btn\"\n            aria-label=\"Close chat\"\n          >\n            <svg\n              width=\"16\"\n              height=\"16\"\n              viewBox=\"0 0 16 16\"\n              fill=\"none\"\n              xmlns=\"http://www.w3.org/2000/svg\"\n            >\n              <path\n                d=\"M12.8536 4.85355C13.0488 4.65829 13.0488 4.34171 12.8536 4.14645C12.6583 3.95118 12.3417 3.95118 12.1464 4.14645L8 8.29289L3.85355 4.14645C3.65829 3.95118 3.34171 3.95118 3.14645 4.14645C2.95118 4.34171 2.95118 4.65829 3.14645 4.85355L7.29289 9L3.14645 13.1464C2.95118 13.3417 2.95118 13.6583 3.14645 13.8536C3.34171 14.0488 3.65829 14.0488 3.85355 13.8536L8 9.70711L12.1464 13.8536C12.3417 14.0488 12.6583 14.0488 12.8536 13.8536C13.0488 13.6583 13.0488 13.3417 12.8536 13.1464L8.70711 9L12.8536 4.85355Z\"\n                fill=\"currentColor\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        {/* Messages */}\n        <div className=\"fcw-chat-messages\">\n          {messages.map((msg) => (\n            <div\n              key={msg.id}\n              className={`fcw-message ${\n                msg.sender === \"user\" ? \"fcw-message-user\" : \"fcw-message-bot\"\n              }`}\n            >\n              <div\n                className={`fcw-message-bubble ${\n                  msg.sender === \"user\"\n                    ? \"fcw-message-bubble-user\"\n                    : \"fcw-message-bubble-bot\"\n                }${msg.isStreaming ? \" fcw-streaming\" : \"\"}`}\n                style={\n                  msg.sender === \"user\" && !config.cleanTheme\n                    ? { backgroundColor: config.themeColor }\n                    : undefined\n                }\n                dangerouslySetInnerHTML={{\n                  __html:\n                    formatMarkdown(msg.text) +\n                    (msg.isStreaming\n                      ? '<span class=\"fcw-cursor\">|</span>'\n                      : \"\"),\n                }}\n              />\n            </div>\n          ))}\n\n          {/* Loading indicator */}\n          {isLoading && (\n            <div className=\"fcw-message fcw-message-bot\">\n              <div className=\"fcw-message-bubble fcw-message-bubble-bot\">\n                <span className=\"fcw-loading\">‚óè‚óè‚óè</span>\n              </div>\n            </div>\n          )}\n\n          <div ref={messagesEndRef} />\n        </div>\n\n        {/* Input */}\n        <form onSubmit={handleSubmit} className=\"fcw-chat-input-form\">\n          <input\n            ref={inputRef}\n            type=\"text\"\n            placeholder={config.placeholder}\n            value={inputValue}\n            onChange={(e) => setInputValue(e.target.value)}\n            className=\"fcw-chat-input\"\n            style={{ fontFamily: config.fontFamily }}\n          />\n          <button\n            type=\"submit\"\n            disabled={isLoading || !inputValue.trim()}\n            className=\"fcw-chat-send-btn\"\n            aria-label=\"Send message\"\n          >\n            <SendIcon className=\"fcw-send-icon\" />\n          </button>\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default FloatingChatWidget;\n"],"names":["React","SendIcon"],"mappings":"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","x_google_ignoreList":[0]}